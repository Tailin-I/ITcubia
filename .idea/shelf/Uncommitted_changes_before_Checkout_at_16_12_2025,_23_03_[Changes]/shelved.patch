Index: src/states/game_state.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import logging\nimport arcade\nfrom arcade import SpriteList, camera\n\nfrom .base_state import BaseState\nfrom ..entities import Player\n\n\nclass GameplayState(BaseState):\n    \"\"\"\n    Состояние основной игры.\n    Здесь происходит вся игровая логика.\n    \"\"\"\n\n    def __init__(self, gsm, asset_loader):\n        super().__init__(\"game\", gsm, asset_loader)\n\n        self.input_manager = self.gsm.input_manager\n\n        # Загружаем текстуры (словарь)\n        player_textures = self.asset_loader.load_player_sprites(scale=1)\n\n        # Создаем игрока с словарем текстур\n        self.player = Player(player_textures, self.input_manager, scale=1)\n\n        self.player_list = SpriteList()\n        self.player_list.append(self.player)\n\n        # Камера\n        # self.camera = arcade.Camera(self.gsm.window.width, self.gsm.window.height)\n        self.camera = camera.Camera2D() # для игрока\n        self.camera.viewport = (arcade.rect.XYWH( self.gsm.window.width//2,\n                                                  self.gsm.window.height//2,\n                                                  self.gsm.window.width,\n                                                  self.gsm.window.height))\n\n\n        self.game_map = None\n        self.ui_elements = arcade.SpriteList()\n\n        # ИНИЦИАЛИЗИРУЕМ флаги в конструкторе\n        self.is_paused = False\n        self.is_initialized = False\n\n    def on_enter(self, **kwargs):\n        \"\"\"Вызывается при входе в это состояние\"\"\"\n        # СБРАСЫВАЕМ все флаги при каждом входе!\n        self.is_paused = False\n        self.is_initialized = True\n\n        # Инициализируем UI\n        self._init_ui()\n\n    def on_exit(self):\n        \"\"\"Вызывается при выходе из состояния\"\"\"\n        # Сбрасываем флаги\n        self.is_paused = False\n        self.is_initialized = False\n\n        # Сохраняем прогресс, освобождаем ресурсы...\n\n    def on_pause(self):\n        \"\"\"Вызывается при постановке игры на паузу (для overlay)\"\"\"\n        print(\"⏸\uFE0F ИГРА НА ПАУЗЕ\")\n        self.is_paused = True\n\n    def on_resume(self):\n        \"\"\"Вызывается при возобновлении игры\"\"\"\n        print(\"▶\uFE0F ИГРА ВОЗОБНОВЛЕНА\")\n        self.is_paused = False\n\n    def update(self, delta_time: float):\n        \"\"\"Обновление игровой логики\"\"\"\n        if self.is_paused:\n            return\n\n        # 1. Обрабатываем ввод игрока\n        self.player.update()\n        self._handle_input()\n\n        # Пока нет игрока и карты - просто ждем\n\n    def draw(self):\n        \"\"\"Отрисовка игры\"\"\"\n        arcade.set_background_color(arcade.color.LIME)\n\n        arcade.draw_triangle_filled(200, 500, 900, 500, 500, 70, arcade.color.GRAY)\n\n        # arcade.start_render()\n        arcade.Text(\n            \"ИГРА АКТИВНА\",\n            500,\n            600,\n            arcade.color.BLACK,\n            48,\n            anchor_x=\"center\",\n            anchor_y=\"center\",\n            bold=True\n        ).draw()\n\n\n        self.camera.use()\n        self.player_list.draw()\n\n\n\n\n\n    def on_resize(self, width, height):\n        \"\"\"При изменении размера окна обновляем камеру\"\"\"\n        # Обновляем viewport камеры\n        self.camera.viewport =self.camera.viewport = (arcade.rect.XYWH( self.gsm.window.width//2,\n                                                  self.gsm.window.height//2,\n                                                  self.gsm.window.width,\n                                                  self.gsm.window.height))\n\n        # Также можно обновить проекцию, если она используется\n        # self.camera.projection = (0, width, 0, height)\n\n        print(f\"Размер окна изменен: {width}x{height}\")\n\n\n    def _handle_input(self):\n        \"\"\"Обработка ввода для игрового состояния\"\"\"\n        if not self.input_manager:\n            return\n\n        # ESC - открыть меню паузы\n        if self.input_manager.get_action(\"escape\"):\n            print(\"\uD83D\uDD3C Нажата пауза\")\n            self._open_pause_menu()\n\n        # Для теста - выводим нажатые клавиши движения\n        # if self.input_manager.get_action(\"up\"):\n        #     print(\"↑ Движение вверх\")\n        # if self.input_manager.get_action(\"down\"):\n        #     print(\"↓ Движение вниз\")\n        # if self.input_manager.get_action(\"left\"):\n        #     print(\"← Движение влево\")\n        # if self.input_manager.get_action(\"right\"):\n        #     print(\"→ Движение вправо\")\n\n    def _init_ui(self):\n        \"\"\"Инициализирует UI элементы\"\"\"\n        # Пока пусто - добавим позже\n        pass\n\n    def _open_pause_menu(self):\n        \"\"\"Открывает меню паузы поверх игры\"\"\"\n        self.gsm.push_overlay(\"pause_menu\", )
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/states/game_state.py b/src/states/game_state.py
--- a/src/states/game_state.py	(revision 4c461cf0d1cd61bbf13d08fc1e6bed18a6fd3a61)
+++ b/src/states/game_state.py	(date 1765915134993)
@@ -28,13 +28,12 @@
 
         # Камера
         # self.camera = arcade.Camera(self.gsm.window.width, self.gsm.window.height)
-        self.camera = camera.Camera2D() # для игрока
-        self.camera.viewport = (arcade.rect.XYWH( self.gsm.window.width//2,
-                                                  self.gsm.window.height//2,
-                                                  self.gsm.window.width,
-                                                  self.gsm.window.height))
+        self.camera = camera.Camera2D()  # для игрока
+        self.camera.viewport = (arcade.rect.XYWH(self.gsm.window.width // 2,
+                                                 self.gsm.window.height // 2,
+                                                 self.gsm.window.width,
+                                                 self.gsm.window.height))
 
-
         self.game_map = None
         self.ui_elements = arcade.SpriteList()
 
@@ -66,12 +65,18 @@
 
     def on_resume(self):
         """Вызывается при возобновлении игры"""
-        print("▶️ ИГРА ВОЗОБНОВЛЕНА")
+        print(f"GAME RESUME: Игра возобновлена, is_paused={self.is_paused}")
         self.is_paused = False
 
+        # ВАЖНО: Сбросим все действия в input_manager
+        if self.input_manager:
+            # Это очистит все нажатые клавиши
+            self.input_manager.keys_pressed.clear()
+
     def update(self, delta_time: float):
         """Обновление игровой логики"""
         if self.is_paused:
+            print(f"UPDATE: Игра на паузе, пропускаем обновление")
             return
 
         # 1. Обрабатываем ввод игрока
@@ -98,28 +103,19 @@
             bold=True
         ).draw()
 
-
         self.camera.use()
         self.player_list.draw()
 
-
-
-
-
     def on_resize(self, width, height):
         """При изменении размера окна обновляем камеру"""
         # Обновляем viewport камеры
-        self.camera.viewport =self.camera.viewport = (arcade.rect.XYWH( self.gsm.window.width//2,
-                                                  self.gsm.window.height//2,
-                                                  self.gsm.window.width,
-                                                  self.gsm.window.height))
-
-        # Также можно обновить проекцию, если она используется
-        # self.camera.projection = (0, width, 0, height)
+        self.camera.viewport =arcade.rect.XYWH(self.gsm.window.width // 2,
+                                                                        self.gsm.window.height // 2,
+                                                                        self.gsm.window.width,
+                                                                        self.gsm.window.height)
 
         print(f"Размер окна изменен: {width}x{height}")
 
-
     def _handle_input(self):
         """Обработка ввода для игрового состояния"""
         if not self.input_manager:
@@ -147,4 +143,4 @@
 
     def _open_pause_menu(self):
         """Открывает меню паузы поверх игры"""
-        self.gsm.push_overlay("pause_menu", )
\ No newline at end of file
+        self.gsm.push_overlay("pause_menu")
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"AutoImportSettings\">\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\n  </component>\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"377e0106-b0ef-4a6d-b5f8-49cae34fa61e\" name=\"Changes\" comment=\"перед большим обновлением управления\">\n      <change afterPath=\"$PROJECT_DIR$/res/player/player_move.png\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/frame/main_window.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/frame/main_window.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/res/player/player1.png\" beforeDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/core/TODELkeyhandler.py\" beforeDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/core/asset_loader.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/core/asset_loader.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/core/game_data.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/core/game_data.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/core/game_state_manager.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/core/game_state_manager.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/core/input_manager.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/core/input_manager.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/entities/base_entity.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/entities/base_entity.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/entities/player.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/entities/player.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/states/base_state.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/states/base_state.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/states/game_state.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/states/game_state.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/states/lobby_state.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/states/lobby_state.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/states/pause_menu_state.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/states/pause_menu_state.py\" afterDir=\"false\" />\n      <change beforePath=\"$PROJECT_DIR$/src/states/settings_state.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/states/settings_state.py\" afterDir=\"false\" />\n    </list>\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"Python Script\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"Git.Settings\">\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\n      <map>\n        <entry key=\"$PROJECT_DIR$\" value=\"977eabffe5f3b02f6456237df83f8eb5a4cb2e09\" />\n      </map>\n    </option>\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\n  </component>\n  <component name=\"GitHubPullRequestSearchHistory\">{\n  &quot;lastFilter&quot;: {\n    &quot;state&quot;: &quot;OPEN&quot;,\n    &quot;assignee&quot;: &quot;Tailin-I&quot;\n  }\n}</component>\n  <component name=\"GithubPullRequestsUISettings\">{\n  &quot;selectedUrlAndAccountId&quot;: {\n    &quot;url&quot;: &quot;https://github.com/Tailin-I/IT-cubia.git&quot;,\n    &quot;accountId&quot;: &quot;d2dfd492-f406-4a8b-b96d-0533637bfc51&quot;\n  }\n}</component>\n  <component name=\"ProjectColorInfo\">{\n  &quot;associatedIndex&quot;: 2\n}</component>\n  <component name=\"ProjectId\" id=\"36W08iUsQKE1eiN7OL8GwiaOFPL\" />\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\">\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\n  </component>\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">{\n  &quot;keyToString&quot;: {\n    &quot;Python.gamepanel.executor&quot;: &quot;Run&quot;,\n    &quot;Python.main.executor&quot;: &quot;Run&quot;,\n    &quot;Python.test.executor&quot;: &quot;Run&quot;,\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,\n    &quot;git-widget-placeholder&quot;: &quot;master&quot;,\n    &quot;last_opened_file_path&quot;: &quot;/home/Tailin/PycharmProjects/ITCUBIA/test.py&quot;,\n    &quot;settings.editor.selected.configurable&quot;: &quot;editor.preferences.tabs&quot;\n  }\n}</component>\n  <component name=\"RecentsManager\">\n    <key name=\"CopyFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/src/entity\" />\n      <recent name=\"$PROJECT_DIR$/res\" />\n    </key>\n    <key name=\"MoveFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/src/states\" />\n      <recent name=\"$PROJECT_DIR$/frame\" />\n      <recent name=\"$PROJECT_DIR$/src/core/settings\" />\n      <recent name=\"$PROJECT_DIR$\" />\n    </key>\n  </component>\n  <component name=\"RunManager\" selected=\"Python.main\">\n    <configuration name=\"main\" type=\"PythonConfigurationType\" factoryName=\"Python\" nameIsGenerated=\"true\">\n      <module name=\"ITCUBIA\" />\n      <option name=\"ENV_FILES\" value=\"\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"PARENT_ENVS\" value=\"true\" />\n      <envs>\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\n      </envs>\n      <option name=\"SDK_HOME\" value=\"\" />\n      <option name=\"SDK_NAME\" value=\"Python 3.11 (ITCUBIA)\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"\" />\n      <option name=\"IS_MODULE_SDK\" value=\"false\" />\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/frame/main.py\" />\n      <option name=\"PARAMETERS\" value=\"\" />\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\n      <option name=\"MODULE_MODE\" value=\"false\" />\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\n      <option name=\"INPUT_FILE\" value=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"test\" type=\"PythonConfigurationType\" factoryName=\"Python\" nameIsGenerated=\"true\">\n      <module name=\"ITCUBIA\" />\n      <option name=\"ENV_FILES\" value=\"\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"PARENT_ENVS\" value=\"true\" />\n      <envs>\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\n      </envs>\n      <option name=\"SDK_HOME\" value=\"\" />\n      <option name=\"SDK_NAME\" value=\"Python 3.11 (ITCUBIA)\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"\" />\n      <option name=\"IS_MODULE_SDK\" value=\"false\" />\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/test.py\" />\n      <option name=\"PARAMETERS\" value=\"\" />\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\n      <option name=\"MODULE_MODE\" value=\"false\" />\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\n      <option name=\"INPUT_FILE\" value=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <list>\n      <item itemvalue=\"Python.main\" />\n      <item itemvalue=\"Python.test\" />\n    </list>\n  </component>\n  <component name=\"SharedIndexes\">\n    <attachedChunks>\n      <set>\n        <option value=\"bundled-python-sdk-14705d77f0bb-aa17d162503b-com.jetbrains.pycharm.community.sharedIndexes.bundled-PC-243.25659.43\" />\n      </set>\n    </attachedChunks>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"377e0106-b0ef-4a6d-b5f8-49cae34fa61e\" name=\"Changes\" comment=\"\" />\n      <created>1765106863174</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1765106863174</updated>\n    </task>\n    <task id=\"LOCAL-00001\" summary=\"working on sprite sheet separating\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765390102318</created>\n      <option name=\"number\" value=\"00001\" />\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765390102318</updated>\n    </task>\n    <task id=\"LOCAL-00002\" summary=\"герой крутится (задержка)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765392026737</created>\n      <option name=\"number\" value=\"00002\" />\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765392026737</updated>\n    </task>\n    <task id=\"LOCAL-00003\" summary=\"герой крутится (анимация ходьбы)\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765434841290</created>\n      <option name=\"number\" value=\"00003\" />\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765434841290</updated>\n    </task>\n    <task id=\"LOCAL-00004\" summary=\"сохранение клавиш в json\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765437748327</created>\n      <option name=\"number\" value=\"00004\" />\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765437748327</updated>\n    </task>\n    <task id=\"LOCAL-00005\" summary=\"загрузчик файлов Resource Manager&#10;+ оптимизация\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765486672016</created>\n      <option name=\"number\" value=\"00005\" />\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765486672016</updated>\n    </task>\n    <task id=\"LOCAL-00006\" summary=\"requirements.txt\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765487546125</created>\n      <option name=\"number\" value=\"00006\" />\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765487546125</updated>\n    </task>\n    <task id=\"LOCAL-00007\" summary=\"requirements.txt\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765536581324</created>\n      <option name=\"number\" value=\"00007\" />\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765536581324</updated>\n    </task>\n    <task id=\"LOCAL-00008\" summary=\"перед сменой структуры\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765609338379</created>\n      <option name=\"number\" value=\"00008\" />\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765609338380</updated>\n    </task>\n    <task id=\"LOCAL-00009\" summary=\"новая структура\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765610372477</created>\n      <option name=\"number\" value=\"00009\" />\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765610372477</updated>\n    </task>\n    <task id=\"LOCAL-00010\" summary=\"работа над структурой, перед упрознененте gamestate\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765618397568</created>\n      <option name=\"number\" value=\"00010\" />\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765618397568</updated>\n    </task>\n    <task id=\"LOCAL-00011\" summary=\"работа над структурой, добавлен примитивный прототип лобби и игры\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765628440219</created>\n      <option name=\"number\" value=\"00011\" />\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765628440219</updated>\n    </task>\n    <task id=\"LOCAL-00012\" summary=\"перед обновлением overlay\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765691389679</created>\n      <option name=\"number\" value=\"00012\" />\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765691389679</updated>\n    </task>\n    <task id=\"LOCAL-00013\" summary=\"перед большим обновлением управления\">\n      <option name=\"closed\" value=\"true\" />\n      <created>1765698478684</created>\n      <option name=\"number\" value=\"00013\" />\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\n      <option name=\"project\" value=\"LOCAL\" />\n      <updated>1765698478684</updated>\n    </task>\n    <option name=\"localTasksCounter\" value=\"14\" />\n    <servers />\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"OPEN_GENERIC_TABS\">\n      <map>\n        <entry key=\"c2978786-f4c9-4863-8cbb-ab9be01feba5\" value=\"TOOL_WINDOW\" />\n      </map>\n    </option>\n    <option name=\"RECENT_FILTERS\">\n      <map>\n        <entry key=\"User\">\n          <value>\n            <list>\n              <RecentGroup>\n                <option name=\"FILTER_VALUES\">\n                  <option value=\"*\" />\n                </option>\n              </RecentGroup>\n            </list>\n          </value>\n        </entry>\n      </map>\n    </option>\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State>\n              <option name=\"FILTERS\">\n                <map>\n                  <entry key=\"branch\">\n                    <value>\n                      <list>\n                        <option value=\"master\" />\n                      </list>\n                    </value>\n                  </entry>\n                  <entry key=\"user\">\n                    <value>\n                      <list>\n                        <option value=\"*\" />\n                      </list>\n                    </value>\n                  </entry>\n                </map>\n              </option>\n            </State>\n          </value>\n        </entry>\n        <entry key=\"c2978786-f4c9-4863-8cbb-ab9be01feba5\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"VcsManagerConfiguration\">\n    <MESSAGE value=\"working on sprite sheet separating\" />\n    <MESSAGE value=\"герой крутится (задержка)\" />\n    <MESSAGE value=\"герой крутится (анимация ходьбы)\" />\n    <MESSAGE value=\"сохранение клавиш в json\" />\n    <MESSAGE value=\"загрузчик файлов Resource Manager&#10;+ оптимизация\" />\n    <MESSAGE value=\"requirements.txt\" />\n    <MESSAGE value=\"перед сменой структуры\" />\n    <MESSAGE value=\"новая структура\" />\n    <MESSAGE value=\"работа над структурой, перед упрознененте gamestate\" />\n    <MESSAGE value=\"работа над структурой, добавлен примитивный прототип лобби и игры\" />\n    <MESSAGE value=\"перед обновлением overlay\" />\n    <MESSAGE value=\"перед большим обновлением управления\" />\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"перед большим обновлением управления\" />\n  </component>\n  <component name=\"XDebuggerManager\">\n    <breakpoint-manager>\n      <breakpoints>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\n          <url>file://$PROJECT_DIR$/frame/main_window.py</url>\n          <option name=\"timeStamp\" value=\"2\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\n          <url>file://$PROJECT_DIR$/frame/main.py</url>\n          <line>7</line>\n          <option name=\"timeStamp\" value=\"5\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\n          <url>file://$PROJECT_DIR$/src/states/lobby_state.py</url>\n          <line>243</line>\n          <option name=\"timeStamp\" value=\"10\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\n          <url>file://$PROJECT_DIR$/src/states/lobby_state.py</url>\n          <line>49</line>\n          <option name=\"timeStamp\" value=\"12\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\n          <url>file://$PROJECT_DIR$/src/core/input_manager.py</url>\n          <line>7</line>\n          <option name=\"timeStamp\" value=\"13\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\n          <url>file://$PROJECT_DIR$/src/states/game_state.py</url>\n          <line>125</line>\n          <option name=\"timeStamp\" value=\"14\" />\n        </line-breakpoint>\n        <line-breakpoint enabled=\"true\" suspend=\"THREAD\" type=\"python-line\">\n          <url>file://$PROJECT_DIR$/src/states/lobby_state.py</url>\n          <line>223</line>\n          <option name=\"timeStamp\" value=\"15\" />\n        </line-breakpoint>\n      </breakpoints>\n    </breakpoint-manager>\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 4c461cf0d1cd61bbf13d08fc1e6bed18a6fd3a61)
+++ b/.idea/workspace.xml	(date 1765915347872)
@@ -5,22 +5,13 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="377e0106-b0ef-4a6d-b5f8-49cae34fa61e" name="Changes" comment="перед большим обновлением управления">
-      <change afterPath="$PROJECT_DIR$/res/player/player_move.png" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/frame/main_window.py" beforeDir="false" afterPath="$PROJECT_DIR$/frame/main_window.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/res/player/player1.png" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/core/TODELkeyhandler.py" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/core/asset_loader.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/core/asset_loader.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/core/game_data.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/core/game_data.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/core/game_state_manager.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/core/game_state_manager.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/core/input_manager.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/core/input_manager.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/entities/base_entity.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/entities/base_entity.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/entities/player.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/entities/player.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/states/base_state.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/states/base_state.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/core/camera_manager.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/core/camera_manager.py" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/states/game_state.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/states/game_state.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/states/lobby_state.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/states/lobby_state.py" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/states/pause_menu_state.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/states/pause_menu_state.py" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/states/settings_state.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/states/settings_state.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/world/camera.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/world/camera.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/world/tile.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/world/tile.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/world/tilemanager.py" beforeDir="false" afterPath="$PROJECT_DIR$/src/world/tilemanager.py" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -37,7 +28,7 @@
   <component name="Git.Settings">
     <option name="RECENT_BRANCH_BY_REPOSITORY">
       <map>
-        <entry key="$PROJECT_DIR$" value="977eabffe5f3b02f6456237df83f8eb5a4cb2e09" />
+        <entry key="$PROJECT_DIR$" value="1645dd4b692c39cb2914fc5fe513f1c500e1ff65" />
       </map>
     </option>
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
@@ -363,7 +354,7 @@
         </line-breakpoint>
         <line-breakpoint enabled="true" suspend="THREAD" type="python-line">
           <url>file://$PROJECT_DIR$/src/states/game_state.py</url>
-          <line>125</line>
+          <line>121</line>
           <option name="timeStamp" value="14" />
         </line-breakpoint>
         <line-breakpoint enabled="true" suspend="THREAD" type="python-line">
